(this["webpackJsonpannouncement-website"]=this["webpackJsonpannouncement-website"]||[]).push([[0],{139:function(e,n,t){},141:function(e,n,t){},142:function(e,n,t){},150:function(e,n,t){},151:function(e,n,t){},152:function(e,n,t){},154:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t.n(c),i=t(48),o=t.n(i),r=(t(139),t(45)),u=t(107),s=t.n(u),l=t(117),d="https://announcement-website.herokuapp.com/api";function j(){return(j=Object(l.a)(s.a.mark((function e(){var n,t=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.length>0&&void 0!==t[0]?t[0]:{},e.next=3,fetch(d,{method:"POST"});case 3:return n=e.sent,e.abrupt("return",n.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t(141);var m=t(169),b=t(53),O=t(155),h=(t(142),t(7)),p=function(e){var n=e.id,t=e.date,c=e.announcementDescription,a=e.announcementTitle,i=e.handleEdit,o=e.handleRemove;return Object(h.jsxs)(m.a,{style:{width:"90vw",margin:"20px"},children:[Object(h.jsx)(m.a.Content,{description:a}),Object(h.jsx)(m.a.Content,{description:c}),Object(h.jsxs)(m.a.Content,{extra:!0,children:[Object(h.jsx)(b.a,{name:"calendar alternate outline"}),t]}),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(O.a,{basic:!0,color:"grey",content:"Edit",onClick:function(){return i(n)}}),Object(h.jsx)(O.a,{basic:!0,color:"red",content:"Delete",onClick:function(){o(n),function(e){fetch("".concat(d,"/").concat(e),{method:"DELETE"}).then((function(e){return e.text()}))}(n)}})]})]})},f=(t(150),function(e){var n=e.announcements,t=e.handleEdit,c=e.handleRemove;return Object(h.jsx)("div",{className:"Announcements",children:n.map((function(e){var n=e.id,a=e.date,i=e.announcementTitle,o=e.announcementDescription;return Object(h.jsx)(p,{handleRemove:c,handleEdit:t,id:n,date:a,announcementTitle:i,announcementDescription:o},n)}))})}),v=t(121),x=t(74),A=t(18),D=t(168),N=t(167),g=t(170),w="DASHBOARD",T="ANNOUNCEMENTFORM",C={id:Object(g.a)(),announcementTitle:"",announcementDescription:"",date:""},y=(t(151),function(e){var n=e.setAnnouncements,t=e.editedAnnouncement,a=e.setNavigationActive,i=Object(c.useState)(C),o=Object(r.a)(i,2),u=o[0],s=o[1];Object(c.useEffect)((function(){s(t?Object(A.a)(Object(A.a)({},u),t):Object(A.a)(Object(A.a)({},u),{},{id:Object(g.a)()}))}),[]);var l=Object(c.useState)({announcementTitle:!1,announcementDescription:!1,date:!1}),m=Object(r.a)(l,2),b=m[0],p=m[1],f=function(e){var n=e.target,t=n.value,c=n.name;s(Object(A.a)(Object(A.a)({},u),{},Object(x.a)({},c,t))),p(Object(A.a)(Object(A.a)({},b),{},Object(x.a)({},c,!1)))};return Object(h.jsxs)(D.a,{onSubmit:function(e){e.preventDefault(),""===u.announcementTitle&&p((function(e){return Object(A.a)(Object(A.a)({},e),{},{announcementTitle:!0})})),""===u.announcementDescription&&p((function(e){return Object(A.a)(Object(A.a)({},e),{},{announcementDescription:!0})})),""===u.date&&p((function(e){return Object(A.a)(Object(A.a)({},e),{},{date:!0})})),u.id&&u.announcementTitle.length&&u.announcementDescription.length&&u.date.length&&(n((function(e){return e.some((function(e){return e.id===u.id}))?(n=u.id,t=u,fetch("".concat(d,"/").concat(n),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})),e.map((function(e){return e.id===u.id?u:e}))):[].concat(Object(v.a)(e),[u]);var n,t})),function(){j.apply(this,arguments)}(u),s(C),a(w))},children:[Object(h.jsxs)(D.a.Group,{widths:"equal",children:[Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)(D.a.Field,{className:b.announcementTitle?"error":"",value:u.announcementTitle,onChange:f,name:"announcementTitle",control:N.a,label:"Announcement",placeholder:"Announcement"}),b.announcementTitle&&Object(h.jsx)("p",{className:"error__title",children:"Pleace enter the Announcement"})]}),Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)(D.a.Field,{className:b.announcementDescription?"error":"",value:u.announcementDescription,onChange:f,name:"announcementDescription",control:N.a,label:"Announcement Description",placeholder:"Announcement Description"}),b.announcementDescription&&Object(h.jsx)("p",{className:"error__title",children:"Pleace enter the Description"})]}),Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)(D.a.Field,{className:b.date?"error":"",value:u.date,onChange:f,name:"date",control:N.a,label:"Date",type:"date"}),b.date&&Object(h.jsx)("p",{className:"error__title",children:"Pleace enter the date"})]})]}),Object(h.jsx)(D.a.Field,{control:O.a,children:"Add a Announcement"})]})}),E=(t(152),[{id:1,title:"Announcement"},{id:2,title:"Add new announcement"}]),S=function(e){var n=e.setNavigationActive,t=e.setEditedAnnouncement,c=(e.query,e.setQuery);return Object(h.jsxs)("div",{className:"header",children:[E.map((function(e){var c=e.id,a=e.title;return Object(h.jsx)("button",{onClick:function(){n(1===c?w:T),t(null)},className:"header__button",type:"button",children:a},c)})),Object(h.jsx)(D.a.Field,{type:"text",name:"search",placeholder:"Search",onChange:function(e){c(e.target.value)},control:N.a})]})};var _=function(){var e=Object(c.useState)([]),n=Object(r.a)(e,2),t=n[0],a=n[1],i=Object(c.useState)(w),o=Object(r.a)(i,2),u=o[0],s=o[1],l=Object(c.useState)(),j=Object(r.a)(l,2),m=j[0],b=j[1],O=Object(c.useState)(""),p=Object(r.a)(O,2),v=p[0],x=p[1];return Object(c.useEffect)((function(){fetch(d).then((function(e){return e.json()})).then((function(e){return e})).then((function(e){return a(e)}))}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(S,{setNavigationActive:s,setEditedAnnouncement:b,query:v,setQuery:x}),u===w&&Object(h.jsx)(f,{handleRemove:function(e){a(t.filter((function(n){return n.id!==e})))},handleEdit:function(e){s(T),b(t.find((function(n){return n.id===e})))},announcements:v.length?t.filter((function(e){return e.announcementTitle.toLowerCase().includes(v.toLowerCase())||e.announcementDescription.toLowerCase().includes(v.toLowerCase())})).slice(0,3):t}),u===T&&Object(h.jsx)(y,{setNavigationActive:s,setAnnouncements:a,editedAnnouncement:m})]})};t(153);o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(_,{})}),document.getElementById("root"))}},[[154,1,2]]]);
//# sourceMappingURL=main.6807d028.chunk.js.map