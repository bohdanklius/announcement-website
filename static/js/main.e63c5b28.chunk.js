(this["webpackJsonpannouncement-website"]=this["webpackJsonpannouncement-website"]||[]).push([[0],{139:function(e,n,t){},141:function(e,n,t){},142:function(e,n,t){},150:function(e,n,t){},151:function(e,n,t){},152:function(e,n,t){},154:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t.n(c),i=t(48),o=t.n(i),r=(t(139),t(45)),s=t(107),u=t.n(s),l=t(117),d="http://localhost:3004/announcements";function j(){return(j=Object(l.a)(u.a.mark((function e(){var n,t,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,fetch(d,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 3:return t=e.sent,e.abrupt("return",t.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t(141);var m=t(169),b=t(53),O=t(155),h=(t(142),t(7)),f=function(e){var n=e.id,t=e.date,c=e.announcementDescription,a=e.announcementTitle,i=e.handleEdit,o=e.handleRemove;return Object(h.jsxs)(m.a,{style:{width:"90vw",margin:"20px"},children:[Object(h.jsx)(m.a.Content,{description:a}),Object(h.jsx)(m.a.Content,{description:c}),Object(h.jsxs)(m.a.Content,{extra:!0,children:[Object(h.jsx)(b.a,{name:"calendar alternate outline"}),t]}),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(O.a,{basic:!0,color:"grey",content:"Edit",onClick:function(){return i(n)}}),Object(h.jsx)(O.a,{basic:!0,color:"red",content:"Delete",onClick:function(){o(n),function(e){fetch("".concat(d,"/").concat(e),{method:"DELETE"}).then((function(e){return e.text()}))}(n)}})]})]})},p=(t(150),function(e){var n=e.announcements,t=e.handleEdit,c=e.handleRemove;return Object(h.jsx)("div",{className:"Announcements",children:n.map((function(e){var n=e.id,a=e.date,i=e.announcementTitle,o=e.announcementDescription;return Object(h.jsx)(f,{handleRemove:c,handleEdit:t,id:n,date:a,announcementTitle:i,announcementDescription:o},n)}))})}),v=t(121),x=t(74),A=t(18),N=t(168),D=t(167),g=t(170),y="DASHBOARD",T="ANNOUNCEMENTFORM",w={id:Object(g.a)(),announcementTitle:"",announcementDescription:"",date:""},C=(t(151),function(e){var n=e.setAnnouncements,t=e.editedAnnouncement,a=e.setNavigationActive,i=Object(c.useState)(w),o=Object(r.a)(i,2),s=o[0],u=o[1];Object(c.useEffect)((function(){u(t?Object(A.a)(Object(A.a)({},s),t):Object(A.a)(Object(A.a)({},s),{},{id:Object(g.a)()}))}),[]);var l=Object(c.useState)({announcementTitle:!1,announcementDescription:!1,date:!1}),m=Object(r.a)(l,2),b=m[0],f=m[1],p=function(e){var n=e.target,t=n.value,c=n.name;u(Object(A.a)(Object(A.a)({},s),{},Object(x.a)({},c,t))),f(Object(A.a)(Object(A.a)({},b),{},Object(x.a)({},c,!1)))};return Object(h.jsxs)(N.a,{onSubmit:function(e){e.preventDefault(),""===s.announcementTitle&&f((function(e){return Object(A.a)(Object(A.a)({},e),{},{announcementTitle:!0})})),""===s.announcementDescription&&f((function(e){return Object(A.a)(Object(A.a)({},e),{},{announcementDescription:!0})})),""===s.date&&f((function(e){return Object(A.a)(Object(A.a)({},e),{},{date:!0})})),s.id&&s.announcementTitle.length&&s.announcementDescription.length&&s.date.length&&(n((function(e){return e.some((function(e){return e.id===s.id}))?(n=s.id,t=s,fetch("".concat(d,"/").concat(n),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})),e.map((function(e){return e.id===s.id?s:e}))):[].concat(Object(v.a)(e),[s]);var n,t})),function(){j.apply(this,arguments)}(s),u(w),a(y))},children:[Object(h.jsxs)(N.a.Group,{widths:"equal",children:[Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)(N.a.Field,{className:b.announcementTitle?"error":"",value:s.announcementTitle,onChange:p,name:"announcementTitle",control:D.a,label:"Announcement",placeholder:"Announcement"}),b.announcementTitle&&Object(h.jsx)("p",{className:"error__title",children:"Pleace enter the Announcement"})]}),Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)(N.a.Field,{className:b.announcementDescription?"error":"",value:s.announcementDescription,onChange:p,name:"announcementDescription",control:D.a,label:"Announcement Description",placeholder:"Announcement Description"}),b.announcementDescription&&Object(h.jsx)("p",{className:"error__title",children:"Pleace enter the Description"})]}),Object(h.jsxs)("div",{className:"wrapper",children:[Object(h.jsx)(N.a.Field,{className:b.date?"error":"",value:s.date,onChange:p,name:"date",control:D.a,label:"Date",type:"date"}),b.date&&Object(h.jsx)("p",{className:"error__title",children:"Pleace enter the date"})]})]}),Object(h.jsx)(N.a.Field,{control:O.a,children:"Add a Announcement"})]})}),E=(t(152),[{id:1,title:"Announcement"},{id:2,title:"Add new announcement"}]),S=function(e){var n=e.setNavigationActive,t=e.setEditedAnnouncement,c=(e.query,e.setQuery);return Object(h.jsxs)("div",{className:"header",children:[E.map((function(e){var c=e.id,a=e.title;return Object(h.jsx)("button",{onClick:function(){n(1===c?y:T),t(null)},className:"header__button",type:"button",children:a},c)})),Object(h.jsx)(N.a.Field,{type:"text",name:"search",placeholder:"Search",onChange:function(e){c(e.target.value)},control:D.a})]})};var _=function(){var e=Object(c.useState)([]),n=Object(r.a)(e,2),t=n[0],a=n[1],i=Object(c.useState)(y),o=Object(r.a)(i,2),s=o[0],u=o[1],l=Object(c.useState)(),j=Object(r.a)(l,2),m=j[0],b=j[1],O=Object(c.useState)(""),f=Object(r.a)(O,2),v=f[0],x=f[1];return Object(c.useEffect)((function(){fetch(d).then((function(e){return e.json()})).then((function(e){return e})).then((function(e){return a(e)}))}),[]),Object(h.jsxs)("div",{children:[Object(h.jsx)(S,{setNavigationActive:u,setEditedAnnouncement:b,query:v,setQuery:x}),s===y&&Object(h.jsx)(p,{handleRemove:function(e){a(t.filter((function(n){return n.id!==e})))},handleEdit:function(e){u(T),b(t.find((function(n){return n.id===e})))},announcements:v.length?t.filter((function(e){return e.announcementTitle.toLowerCase().includes(v.toLowerCase())||e.announcementDescription.toLowerCase().includes(v.toLowerCase())})).slice(0,3):t}),s===T&&Object(h.jsx)(C,{setNavigationActive:u,setAnnouncements:a,editedAnnouncement:m})]})};t(153);o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(_,{})}),document.getElementById("root"))}},[[154,1,2]]]);
//# sourceMappingURL=main.e63c5b28.chunk.js.map