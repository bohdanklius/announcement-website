(this["webpackJsonpannouncement-website"]=this["webpackJsonpannouncement-website"]||[]).push([[0],{138:function(e,n,t){},140:function(e,n,t){},141:function(e,n,t){},149:function(e,n,t){},150:function(e,n,t){},151:function(e,n,t){},153:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t.n(c),o=t(48),i=t.n(o),r=(t(138),t(45)),s=t(107),u=t.n(s),l=t(117),d="http://localhost:3004/announcements";function j(){return(j=Object(l.a)(u.a.mark((function e(){var n,t,c=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,fetch(d,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(n)});case 3:return t=e.sent,e.abrupt("return",t.json());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t(140);var m=t(169),b=t(53),h=t(154),O=(t(141),t(7)),f=function(e){var n=e.id,t=e.date,c=e.announcementDescription,a=e.announcementTitle,o=e.handleEdit,i=e.handleRemove;return Object(O.jsxs)(m.a,{style:{width:"90vw",margin:"20px"},children:[Object(O.jsx)(m.a.Content,{description:a}),Object(O.jsx)(m.a.Content,{description:c}),Object(O.jsxs)(m.a.Content,{extra:!0,children:[Object(O.jsx)(b.a,{name:"calendar alternate outline"}),t]}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(h.a,{basic:!0,color:"grey",content:"Edit",onClick:function(){return o(n)}}),Object(O.jsx)(h.a,{basic:!0,color:"red",content:"Delete",onClick:function(){i(n),function(e){fetch("".concat(d,"/").concat(e),{method:"DELETE"}).then((function(e){return e.text()}))}(n)}})]})]})},p=(t(149),function(e){var n=e.announcements,t=e.handleEdit,c=e.handleRemove;return Object(O.jsx)("div",{className:"Announcements",children:n.map((function(e){var n=e.id,a=e.date,o=e.announcementTitle,i=e.announcementDescription;return Object(O.jsx)(f,{handleRemove:c,handleEdit:t,id:n,date:a,announcementTitle:o,announcementDescription:i},n)}))})}),v=t(121),x=t(74),D=t(18),g=t(168),A=t(167),N=t(170),w="DASHBOARD",T="ANNOUNCEMENTFORM",y={id:Object(N.a)(),announcementTitle:"",announcemeDescription:"",date:""},C=(t(150),function(e){var n=e.setAnnouncements,t=e.editedAnnouncement,a=e.setNavigationActive,o=Object(c.useState)(y),i=Object(r.a)(o,2),s=i[0],u=i[1];Object(c.useEffect)((function(){t.length&&u(Object(D.a)(Object(D.a)({},s),t)),t.length||u(Object(D.a)(Object(D.a)({},s),{},{id:Date.now()}))}),[]);var l=Object(c.useState)({announcementTitle:!1,announcementDescription:!1,date:!1}),m=Object(r.a)(l,2),b=m[0],f=m[1],p=function(e){var n=e.target,t=n.value,c=n.name;u(Object(D.a)(Object(D.a)({},s),{},Object(x.a)({},c,t))),f(Object(D.a)(Object(D.a)({},b),{},Object(x.a)({},c,!1)))};return Object(O.jsxs)(g.a,{onSubmit:function(e){e.preventDefault(),""===s.announcementTitle&&f((function(e){return Object(D.a)(Object(D.a)({},e),{},{announcementTitle:!0})})),""===s.announcementDescription&&f((function(e){return Object(D.a)(Object(D.a)({},e),{},{announcementDescription:!0})})),""===s.date&&f((function(e){return Object(D.a)(Object(D.a)({},e),{},{date:!0})})),s.id&&s.announcementTitle.length&&s.announcementDescription.length&&s.date.length&&(n((function(e){return e.some((function(e){return e.id===s.id}))?(n=s.id,t=s,fetch("".concat(d,"/").concat(n),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})),e.map((function(e){return e.id===s.id?s:e}))):[].concat(Object(v.a)(e),[s]);var n,t})),function(){j.apply(this,arguments)}(s),u(y),a(w))},children:[Object(O.jsxs)(g.a.Group,{widths:"equal",children:[Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)(g.a.Field,{className:b.announcementTitle?"error":"",value:s.announcementTitle,onChange:p,name:"announcementTitle",control:A.a,label:"Announcement",placeholder:"Announcement"}),b.announcementTitle&&Object(O.jsx)("p",{className:"error__title",children:"Pleace enter the Announcement"})]}),Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)(g.a.Field,{className:b.announcementDescription?"error":"",value:s.announcementDescription,onChange:p,name:"announcementDescription",control:A.a,label:"Announcement Description",placeholder:"Announcement Description"}),b.announcementDescription&&Object(O.jsx)("p",{className:"error__title",children:"Pleace enter the Description"})]}),Object(O.jsxs)("div",{className:"wrapper",children:[Object(O.jsx)(g.a.Field,{className:b.date?"error":"",value:s.date,onChange:p,name:"date",control:A.a,label:"Date",type:"date"}),b.date&&Object(O.jsx)("p",{className:"error__title",children:"Pleace enter the date"})]})]}),Object(O.jsx)(g.a.Field,{control:h.a,children:"Add a Announcement"})]})}),E=(t(151),[{id:1,title:"Announcement"},{id:2,title:"Add new announcement"}]),S=function(e){var n=e.setNavigationActive,t=e.setEditedAnnouncement,c=(e.query,e.setQuery);return Object(O.jsxs)("div",{className:"header",children:[E.map((function(e){var c=e.id,a=e.title;return Object(O.jsx)("button",{onClick:function(){n(1===c?w:T),t(y)},className:"header__button",type:"button",children:a},c)})),Object(O.jsx)(g.a.Field,{type:"text",name:"search",placeholder:"Search",onChange:function(e){c(e.target.value)},control:A.a})]})};var _=function(){var e=Object(c.useState)([]),n=Object(r.a)(e,2),t=n[0],a=n[1],o=Object(c.useState)(w),i=Object(r.a)(o,2),s=i[0],u=i[1],l=Object(c.useState)({id:Date.now(),date:"",announcementTitle:"",announcementDescription:""}),j=Object(r.a)(l,2),m=j[0],b=j[1],h=Object(c.useState)(""),f=Object(r.a)(h,2),v=f[0],x=f[1];return Object(c.useEffect)((function(){fetch(d).then((function(e){return e.json()})).then((function(e){return e})).then((function(e){return a(e)}))}),[]),Object(O.jsxs)("div",{children:[Object(O.jsx)(S,{setNavigationActive:u,setEditedAnnouncement:b,query:v,setQuery:x}),s===w&&Object(O.jsx)(p,{handleRemove:function(e){a(t.filter((function(n){return n.id!==e})))},handleEdit:function(e){u(T),b(t.find((function(n){return n.id===e})))},announcements:v.length?t.filter((function(e){return e.announcementTitle.toLowerCase().includes(v.toLowerCase())||e.announcementDescription.toLowerCase().includes(v.toLowerCase())})).slice(0,3):t}),s===T&&Object(O.jsx)(C,{setNavigationActive:u,setAnnouncements:a,editedAnnouncement:m})]})};t(152);i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(_,{})}),document.getElementById("root"))}},[[153,1,2]]]);
//# sourceMappingURL=main.d3d1fdd5.chunk.js.map